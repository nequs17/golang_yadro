Задание №3: Использование сторонних модулей

Цель: познакомиться с использованием сторонних модулей, опубликованных с использованием системы модулей Go, использованием пакетов.

В рамках оценки выполнения задания проверяется:

- умение создавать пакеты в рамках модулей и использовать их;

- умение работать со сторонними модулями;

- умение производить вендоринг модулей.

Задание:

Шаг 1. Создание нового модуля. Для выполнения этого шага следует:

a) создать новый модуль, используя команду 'go mod init';

b) создать новую точку входа для выполнения программы (функцию 'main');

c) создать пакет 'calculations' в созданном вами ранее модуле. В созданном пакете реализовать функцию 'Calculate(int64, bool) int64'' . В качестве первого аргумента функция получает значение 'n', на основе которого рассчитывается факториал, в качестве второго аргумента принимается флаг, указывающий на использование логирования. В случае использования логирования - программа должна выводить следующий набор строк:

- Перед началом вычислений:

Start calculations...
Calculate <n>!

- По окончании вычислений:

Calculations complete!

В результате выполнения функция возвращает полученное значение факториала.


Шаг 2. Подключениe сторонних модулей. Для выполнения этого шага следует:

a) подключить библиотеку 'github.com/sirupsen/logrus' используя команду 'go get';

b) изучить исходный код модуля, используя 'godoc' документацию, доступную по ссылке https://pkg.go.dev/github.com/sirupsen/logrus;

c) произвести вендоринг используемых модулей, используя команду 'go mod vendor'.

Шаг 3. Использовать функциональность библиотеки. Для выполнения этого шага следует:

a) реализовать получение числа 'n' с использование массива 'args' библиотеки 'os';

b) реализовать расчет факториала числа с использованием ранее созданной функции 'Calculate(int64, bool) int64' ;

c) реализовать получение флага '-log (bool)' на логирование с использованием библиотеки 'flag'. Задать значение по умолчанию равным 'false', добавить 'man' описание для указанного флага;

d) передать значение флага в качестве второго параметра функции 'Calculate(int64, bool) int64';

e) вывести результат выполнения программы с использованием пакета 'github.com/sirupsen/logrus'. При выводе значений использовать стандартный поток вывода, уровень логирования задать, как 'INFO'.
